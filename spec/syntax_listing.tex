\lstdefinelanguage{syntax}
  {
    morekeywords={
      atomic,
      begin, bool, break, by,
      class, cobegin, complex, compilerError, config, const, continue,
      def, distributed, do, domain,
      else, elt_type, enum,
      false, for, forall,
      goto,
      if, imag, in, index, int, inout, iterator,
      let, locale,
      module,
      nil,
      of, on, opaque, ordered, otherwise, out,
      param, pragma,
      real, record, reduce, return,
      scan, select, seq, serial, single, sparse, string, sync,
      then, true, type,
      uint, union, use,
      var,
      when, where, while,
      yield
    },
    sensitive=false,
    mathescape=true,
    columns=fullflexible,
    basicstyle=\small,
    keywordstyle=\footnotesize\ttfamily,
    commentstyle=\footnotesize\ttfamily,
    identifierstyle=\small\itshape,
    morecomment=[s]{`}{'},
    literate={-}{{\ttfamily -}}{1}
             {[OPT]}{{{\scriptsize $_{opt}$}}}{2}
  }

\lstnewenvironment{syntax}{\lstset{language=syntax,xleftmargin=2pc}}{}

\newcommand{\sntx}[1]{\lstinline[language=syntax]!#1!}
