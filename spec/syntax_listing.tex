\lstdefinelanguage{syntax}
  {
    morekeywords={one, of},
    sensitive=false,
    mathescape=true,
    basicstyle=\footnotesize\ttfamily,
    keywordstyle=\footnotesize\ttfamily,
    commentstyle=\footnotesize\ttfamily,
    identifierstyle=\footnotesize\itshape,
    morecomment=[s]{`}{'},
    literate={[[}{{$[$}}{1}
             {]]}{{$]$}}{1}
             {[[,...]]}{{$[$, $\ldots]$}}{5}
             {[[...]]}{{$[\ldots]$}}{3}
             {[OPT]}{{$_{\mbox{opt}}$}}{3}
  }

\lstnewenvironment{syntax}{\lstset{language=syntax,xleftmargin=2pc}}{}

\newcommand{\sntx}[1]{\lstinline[language=syntax,basicstyle=\normalsize\tt,identifierstyle=\normalsize\it]!#1!}
