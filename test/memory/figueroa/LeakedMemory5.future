bug: This is a duplicate of test/functions/deitz/nested/test_nested_var_iterator2.future

./a.out --memTrack
hilde@chap01 figueroa $ 1 1 1 1
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl:743: allocate 72B of _ic_these__ref_rangeBase_int64_t_bounded_F at 0x6df500
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/DefaultRectangular.chpl:524: allocate 40B of array elements at 0x6def70
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/DefaultRectangular.chpl:454: free 32B of array elements at 0x6daa20
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl:743: allocate 72B of _ic_these__ref_rangeBase_int64_t_bounded_F at 0x6db3a0
Amount of leaked memory after calling foo(): 152
sum is 100
0 1 1 1 1

Memory allocated here is never freed.
bt
#0  chpl_here_alloc6 (x=0x0, md=11, lineno=743, filename=0x4c1490 "/data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl") at obj/ChapelLocale.c:220
#1  0x000000000048dd5f in _computeChunkStuff (maxTasks=16, ignoreRunning=true, minSize=1, ranges=0x7fffffffca90, _retArg=0x7fffffffca80) at obj/DSIUtil.c:112
#2  0x000000000046b67d in foo () at obj/LeakedMemory5.c:455
#3  0x000000000046a41f in chpl__init_LeakedMemory5 (_ln=1, _fn=0x4c1f2c "LeakedMemory5.chpl") at obj/LeakedMemory5.c:49
#4  0x000000000046a68e in chpl_gen_main (_arg=0x6d6300) at obj/LeakedMemory5.c:101
#5  0x000000000048f196 in chpl_main () at main.c:92
#6  0x0000000000496ee3 in chpl_task_callMain (chpl_main=0x48f160 <chpl_main>) at tasks-fifo.c:305
#7  0x000000000048f2fa in main (argc=2, argv=0x7fffffffdd48) at main.c:170
(gdb) c
Continuing.
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl:743: allocate 72B of _ic_these__ref_rangeBase_int64_t_bounded_F at 0x7ffff00115b0
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/dists/DSIUtil.chpl:39: free 88B of _ic_these__ref_range_int64_t_bounded_F at 0x7ffff0011010
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelBase.chpl:727: allocate 24B of _EndCount at 0x7ffff0000fe0
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRange.chpl:544: allocate 88B of _ic_these__ref_range_int64_t_bounded_F at 0x7ffff0011010

Breakpoint 1, chpl_here_alloc6 (x=0x0, md=11, lineno=743, filename=0x4c1490 "/data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl") at obj/ChapelLocale.c:220
(gdb) 

Similarly:
bt
#0  chpl_here_alloc6 (x=0x0, md=11, lineno=743, filename=0x4c1490 "/data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl") at obj/ChapelLocale.c:220
#1  0x000000000048dd5f in _computeChunkStuff (maxTasks=16, ignoreRunning=true, minSize=1, ranges=0x7fffffffb560, _retArg=0x7fffffffb550) at obj/DSIUtil.c:112
#2  0x0000000000426c44 in chpl___ASSIGN_3 (a=0x7ffff0000b30, b=7) at obj/ChapelArray.c:4404
#3  0x000000000046ace4 in foo () at obj/LeakedMemory5.c:377
#4  0x000000000046a41f in chpl__init_LeakedMemory5 (_ln=1, _fn=0x4c1f2c "LeakedMemory5.chpl") at obj/LeakedMemory5.c:49
#5  0x000000000046a68e in chpl_gen_main (_arg=0x6d6300) at obj/LeakedMemory5.c:101
#6  0x000000000048f196 in chpl_main () at main.c:92
#7  0x0000000000496ee3 in chpl_task_callMain (chpl_main=0x48f160 <chpl_main>) at tasks-fifo.c:305
#8  0x000000000048f2fa in main (argc=2, argv=0x7fffffffdd48) at main.c:170
(gdb) c
Continuing.
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl:743: allocate 72B of _ic_these__ref_rangeBase_int64_t_bounded_F at 0x7ffff0000e70
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/dists/DSIUtil.chpl:39: free 88B of _ic_these__ref_range_int64_t_bounded_F at 0x7ffff0011010
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelBase.chpl:727: allocate 24B of _EndCount at 0x7ffff0000fe0
0: /data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRange.chpl:544: allocate 88B of _ic_these__ref_range_int64_t_bounded_F at 0x7ffff0011010

Breakpoint 1, chpl_here_alloc6 (x=0x0, md=11, lineno=743, filename=0x4c1490 "/data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl") at obj/ChapelLocale.c:220
(gdb) 

Same old problem:
  _ic_2 = chpl_here_alloc6(_ic_2, 11, 743, "/data/cf/gtmp/chapel/hilde/hierloc/modules/internal/ChapelRangeBase.chpl");
  ...
  while (T4) {
    ...
    if (call_tmp19) {
      parDim = i;
      goto _breakLabel;
    }
    ...
  }
  chpl_mem_free(((void*)(_ic_2)), 39, "/data/cf/gtmp/chapel/hilde/hierloc/modules/dists/DSIUtil.chpl");
  _breakLabel:;
