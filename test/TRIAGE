
# USAGE:
#
# Current notes on triage results, sorted into the following categories:
#
# * cases that are assigned and should be fixed (ideally during the coming
#   week
#
# * cases that are causing noise regularly in testing, sorted by
#   approximate priority
#
# * cases that were once flagged as causing regular noise, but don't seem
#   so bad currently
#
# * cases that are not familiar, but have caused noise -- these are
#   noted so that if they happen again, we can move them up to an
#   earlier session and recognize a slower pattern over a longer
#   period of time
#
# * regular failures that someone might look at as part of their triage week


=========================================================
Problems analyzed and assigned that should be fixed soon:
=========================================================

==============================================
These things regularly cause noise in testing:
==============================================

linux64.gnu.gasnet.qthreads.none (UNASSIGNED)
---------------------------------------------

sungeun: 12/7/12.  Enabled oversubscription (and disable affinity).
Dylan says that in this configuration the timeouts all passed.  It's
possible that some of these other failures might be due to callstack
size.

sungeun: 10/18/12.  Things seem quieter, but not perfect
- Got a seg fault (06/06/12, 6/16, stream-ep 8/23/12)
- Intermitent seg fault on exit (7/7 7/9, 7/12, 7/13)
-  seg fault during program execution (same as as previous):
   distributions/robust/arithmetic/optimizations/optimizeOnClauses_basic_tuple (7/10)
   release/examples/spec/Classes/delete (7/12)
- Intermitent time outs:
  [Error: Timed out executing program distributions/robust/arithmetic/slicing/test_array_slicing3] (intermittent since prior to 11/25/12)
  [Error: Timed out executing program distributions/robust/arithmetic/kernels/jacobi] (11/26/12: intermittent since 9/17/12)
  [Error: Timed out executing program distributions/robust/arithmetic/stress/test_many_array] (11/26/12: intermittent since 9/29/12)
  [Error: Timed out executing program distributions/robust/arithmetic/stress/test_many_domains] (11/22/12: almost every day since 9/26/22)
  [Error: Timed out executing program distributions/robust/arithmetic/kernels/hpl (compopts: 1)] (11/28/12: likely earlier as well)


cray-xmt build (UNASSIGNED)
---------------------------
Every night, first XMT compile fails; second one succeeds.  Is there
any chance that this is due to a leftover program library of some
sort?  If not, file bug against XMT compiler.


SIGABRT on gasnet-fast runs (sungeun)
----------------------------------------
sungeun: 1/2/13.  These tests also suffered from the private broadcast
bug mentioned above with testRAStream and fixed in r20877.  If they do
not show up again for another couple of weeks, remove this entire
entry.

release/examples/benchmarks/hpcc/ra (compopts: 1) (10/13/12)
mutilocale/deitz/needMultiLocales/diagnostics/test_private_broadcast_large (10/11/12, 10/21/12, 12/02/12)
ra-atomics (UNASSIGNED) (10/11/12)


==============================================================================
Were once flagged as causing noise regularly, but not as familiar as the above
==============================================================================

SSCA2_main (UNASSIGNED)
-----------------------
Periodically times out for PGI (alternates between time out and stack
overflow error documented in REGRESSIONS)


TooManyThreads (UNASSIGNED)
---------------------------
Fails periodically.  Lately observed pthreads.tcmalloc (2012/08/15).


compflags/ferguson/sub_test
---------------------------
chpbld02 has /tmp mounted on /ptmp.  The path search in findProgramPath appears
to be finding chpl in /ptmp instead of /tmp even though the /ptmp directory
it is finding is not in path. The /ptmp path it is finding is actually the
same directory as the /tmp directory it is looking for.


==========================================================================
Not so noisy as to be familiar annoyances, but worth noting to see if they
come up again
==========================================================================

intermittent valgrind error
---------------------------
- studies/hpcc/HPL/stonea/serial/hplExample5
This happened around 11/27/2012, but I caught it the week after when
it resolved, so I don't how it failed, since the log file is gone.


prgenv-* compilation timeouts (maybe due to system updates or ...?)
-------------------------------------------------------------------
[Error: Timed out compilation for users/ferguson/ddata/f] (prgenv-pgi: 12/01/12)
[Error: Timed out compilation for users/jglewis/locClassSegFault-nongeneric] (prgenv-pgi: 12/01/12)
[Error: Timed out compilation for release/examples/spec/Tuples/expansion] (prgenv-cray: 12/02/12)
[Error: Timed out compilation for distributions/dm/t5a] (prgenv-intel: 12/03/12)

prgenv-pgi failures that I don't recall seeing before (12/01/12)
----------------------------------------------------------------
[Error matching program output for parallel/cobegin/stonea/reports (execopts: 4)]

studies/dijkstra/driverEdgeBtw
------------------------------
PGI only.  Floating point overflow warning in generated code
(03/12/11, 9/14/12) Also documented in REGRESSIONS file.

errors running sub_test (UNASSIGNED)
------------------------------------
seen on chpbld01 for linux64.intel.none.fifo.pthreads on 10/10/12

parallel/cobegin/diten/cobeginRace (UNASSIGNED)
----------------------------------------------------
"timedexec died with signal 11" - pgi compiler (06/18/12)
unknown cause - baseline (06/17/12)

non-deterministic timeouts with gasnet (UNASSIGNED)
---------------------------------------------------
The following configurations are affected:
 linux64.gnu.gasnet.qthreads.none
 linux64.gnu.gasnet.fifo.pthreads.tcmalloc
 linux64.gnu.gasnet-fast.fifo.pthreads.dlmalloc
 linux64.gnu.gasnet-everything.fifo.pthreads
examples of what times out:
 distributions/robust/arithmetic/kernels/jacobi (still timing out 10/4/12)
 distributions/nelson/MultiBlockDist2DLocales (maybe resolved?)
 distributions/robust/arithmetic/modules/test_module_Sort (maybe resolved?)
 distributions/robust/arithmetic/stress/test_many_domains (08/13)
 distributions/robust/arithmetic/stress/test_many_array (11/10/12)
 distributions/dm/t2 (2012/08/15)
 test_array_slicing3 (06/08/12, 6/16)
 etc.

"in routine alloca() there is a stack overflow" under PGI (UNASSIGNED)
----------------------------------------------------------------------
Somewhat? nondeterministic.
These configurations:
 linux64.pgi.none.fifo.pthreads
 cray-xt.cray-xt-pgi.none.fifo.pthreads
 cray-xt.cray-xt-pgi.none.fifo.pthreads--linux64.gnu

minus_equals nondeterminism (sungeun)
----------------------------------------
(week of 07/02, still present 10/2, 10/9/12, 1/6/13)

NOTES: This is a race condition that is present in the case of *all*
iteration of val iterators (e.g. domains) where the index is passed to
a function for promotion.  The reason we don't run into this more
often is because the window for races is typically very small (usually
between 2 lines of the generated code), and it's slightly larger for
--no-local for associative arrays promoted remove().  The index
variable needs to be declared outside the scope of the promoted
function so that it can be referred to.  After the iterators are
lowered, during the parallel pass, coforall blocks are converted to
nested functions that are then flattened.  The index var is an "outer
var" (declared in the outer scope), and thus is is passed by reference
to the newly unnested functions.  But because it is the index
variable, the iterator overwrites it anyways.  In the case of the var
iterator, it simply overwrites the reference with another reference.
In the case of the val iterator, it write the actual value.  Since all
tasks performing the coforall share the same memory location passed in
from the promotion wrapper,


atomics nondeterminisms (UNASSIGNED)
------------------------------------
release/examples/primers/atomics (06/30/12:xt-intel, 07/04/12:linux32, 08/14/12:cray-xt)

no-local nondeterminisms (UNASSIGNED)
-------------------------------------
cg-sparse-timecomp (06/05/12)
studies/ssca2/atomic/SSCA2_main_atomic (07/04/12)

tcmalloc failures (08/08/12)
----------------------------
[Error: Timed out executing program distributions/robust/arithmetic/kernels/hpl (compopts: 1)]
[Error: Timed out executing program distributions/robust/arithmetic/kernels/jacobi]
[Error: Timed out executing program distributions/robust/arithmetic/modules/test_module_Sort]

nondet. tmalloc failures
------------------------
[Error: Timed out executing program distributions/robust/arithmetic/stress/test_many_domains] (08/08/12)
[Error matching program output for studies/nqueens/nqueens-2-par] (sYSMALLOc assertion failure in malloc.c:3091 - linux64.gnu.none.fifo.pthreads.tcmalloc - 11/15/12)

parallel/begin/deitz/test_big_recursive_begin future succeeded
--------------------------------------------------------------
*-linux64.gnu.none.fifo.pthreads (10/10/12, 10/16/12)
*-linux64.gnu.none.fifo.pthreads-std.log (8/18,9/2,9/9,9/13/12, 10/17/12)
*-linux64.gnu.none.fifo.pthreads-npt.log (baseline)
  (9/{4,5,14,22,30}/12)
  (10/2/12)
120821/Nightly-day2-Tue-linux64.gnu.none.fifo.pthreads-nlc.log

studies/sudoku/dinan/sudoku
---------------------------
[Error: Timed out executing program studies/sudoku/dinan/sudoku] (cray-xt.cray-prgenv-gnu.none.fifo.pthreads--linux64.gnu 11/16/12, 11/26/12)

===========================================
Not noisy, but need some attention sometime
===========================================

types/range/hilde/align64
-------------------------
This test gets a false positive pass on intel and pgi it seems, for
reasons that are not clear to me (i.e., why are they behaving differently
than gcc?).  If the future should remain, a .skipif should be added to
skip it in these cases.
 
I wouldn't call the future a bug so much as a 'feature request' or
'semantic' future -- it suggests a change in the language definition
that should be considered and agreed upon rather than reflecting a way
in which the compiler is incorrect w.r.t. the language definition (as
I understand it.

cray-xt.cray-xt-cray.none.fifo.pthreads
--------------------------------------
The following compiler segfaults(?) appeared only once on 9/28/12
[Error matching compiler output for release/examples/primers/opaque]
[Error matching compiler output for release/examples/spec/Generics/fillTuple2]
[Error matching compiler output for release/examples/spec/Iterators/as-arrays]
[Error matching compiler output for release/examples/spec/Ranges/alignedNegStride]
