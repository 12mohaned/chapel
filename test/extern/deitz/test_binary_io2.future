bug: ref arg to extern function results in strange behavior
