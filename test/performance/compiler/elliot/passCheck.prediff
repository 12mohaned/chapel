#!/usr/bin/env python

import sys, os, shutil

logfile = sys.argv[2]
tmplogfile = logfile + '.tmp'

file = open(logfile, 'r')
tmpfile = open(tmplogfile, 'w')

# remove all of the actual times from --print-passes
# It outputs passname : <time for pass> and we want 
# to just remove <time for pass> 
lines = file.readlines()
for line in lines:
  line = line.split(':')[0].strip() + ' :'
  tmpfile.write(line + '\n')

file.close()
tmpfile.close()

os.rename(tmplogfile, logfile)

# copy the compilerPerformance perf keys as the .good file for this test. That
# way we don't have to update the .good and the perfkeys 

shutil.copy('../compilerPerformance.perfkeys', 'passCheck.good')

