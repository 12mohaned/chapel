#!/usr/bin/env python

# Aim for about 1 second of run time.  The number of operations needed
# to achieve this varies with the network architecture and op type.
import os

comm = os.getenv('CHPL_COMM')
comm_sub = os.getenv('CHPL_COMM_SUBSTRATE')
ugni = comm == 'ugni'
gn_aries = comm == 'gasnet' and comm_sub  == 'aries'

if ugni or gn_aries:
  numGets    =  20000000
  numPuts    = 100000000
  numAMOs    =  10000000
  numFastOns =   2000000
  numOns     =   1000000
else:
  # Tentative, really just the above divided by 10.
  numGets    =   2000000
  numPuts    =  10000000
  numAMOs    =   1000000
  numFastOns =    200000
  numOns     =    100000

base_opts = 'many-to-one-helper.h'

print(base_opts
      + ' -sop=opGet -snumOps={0} # many-to-one-gets'.format(numGets))
print(base_opts
      + ' -sop=opPut -snumOps={0} # many-to-one-puts'.format(numPuts))
print(base_opts
      + ' -sop=opFastOn -snumOps={0} # many-to-one-fastOns'.format(numFastOns))
print(base_opts
      + ' -sop=opOn -snumOps={0} # many-to-one-ons'.format(numOns))
