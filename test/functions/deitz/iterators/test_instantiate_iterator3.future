generic iterators

iterator transformation needs to happen after instantiation
