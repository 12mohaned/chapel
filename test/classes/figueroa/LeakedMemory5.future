bug: not all memory freed when an array is resized
