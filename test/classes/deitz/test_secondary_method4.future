bug: nested method shadows local var


