# USAGE: the intent of this file is to keep track of current
# regressions and to keep notes about why they are failing.
#
# Each category represents a Cron run that we perform nightly and mail
# to chapel-test-results-all (and chapel-test-results-regressions if
# anything unusual happened).  The label for each category should
# match the unique ID for that testing configuration.  In some cases,
# categories will have a wildcard name such as 'gasnet*' or 'x?-wb...'
# implying that they are an abstract category for all configurations
# that match that pattern.  In the past we have used specific testing
# instances (like 'gasnet-everything') for such purposes, but in
# practice there often isn't a test configuration that serves as a
# good root for the purposes of inheriting errors.
#
# There is an informal hierarchy embedded in this file in order to try
# and reduce redundancy in which each suite is marked as inheriting
# from one or more other suites.  For example, if "hello.chpl" fails
# everywhere, it should only be noted in "general regressions" (the
# root of the hierarchy) and not in every configuration.  Similarly,
# if something fails for every gasnet configuration, it can be listed
# in 'gasnet*' which forms the root of the logical gasnet sub-tree.
#
# Ultimately, the hope is to do more of this filtering and
# categorization automatically, but for the time being it is manual
# and rotated among members of the core Chapel team.  Periodically,
# all failures in a test suite should be compared against what's in
# this file to ensure that they match.  The last time that this full
# review was done is marked in the "Reviewed" slot in the header of
# the category.
#
# Each regression itself should be marked with a brief (one-line)
# description of why the failure is occurring, the date on which the
# failure occurred, and the owner.  All new issues should be assigned
# an owner; some historical ones may have escaped being assigned one.
#
# In some cases, more extensive notes may be in order, but this file
# should lean towards being spare (for the purposes of maintenance).
# The project's pivotal task tracker should be used to store notes
# on any given failure mode or story.
#
# At the bottom of each category is a list of "sporadic" failures
# that come and go at different times.  These are followed by a
# list of dates for a "new failure" was last reported.  If a test
# has not failed in a month, it can probably be removed from this
# list.
#
# The status of failing future tests is detailed in ../STATUS.devel


===================
general
Reviewed 2014-11-09
===================

redefinition of chpl_glob() (11/09/14 -- bradc)
(xe-wb*)
-----------------------------------------------
[Error matching compiler output for studies/glob/test_glob (compopts: 1)]

sporadic failure (2-3x a month -- vass)
---------------------------------------
[Error matching program output for parallel/taskPar/taskIntents/21-capture-in-cobegin]


===================
linux64
Inherits 'general'
Reviewed 2014-11-08
===================


===================
linux32
Inherits 'general'
Reviewed 2014-11-08
===================


===================
darwin
Inherits 'general'
Reviewed 2014-11-12
===================


===================
perf*
Inherits 'general'
Reviewed 2014-11-08
===================

===================
perf.bradc-lnx
Inherits 'perf*'
Reviewed 2014-11-08
===================

consistent failure due to insane memory usage (should get better with strings)
------------------------------------------------------------------------------
[Error matching performance keys for studies/shootout/fasta/kbrady/fasta-lines]
[Error matching performance keys for io/vass/time-write (compopts: 1)] (2014-11-01)

===================
perf.chap03
Inherits 'perf*'
Reviewed 2014-11-08
===================

consistent failure due to insane memory usage (should get better with strings)
------------------------------------------------------------------------------
[Error matching performance keys for studies/shootout/fasta/kbrady/fasta-lines]


======================
perf.chap03.playground
Inherits 'perf.chap03'
Reviewed 2014-11-08
======================


===================
perf.chap04
Inherits 'perf*'
Reviewed 2014-11-08
===================


======================
perf.chap04.playground
Inherits 'perf.chap04'
Reviewed 2014-11-08
======================


===================
fast
Inherits 'general'
Reviewed 2014-11-08
===================


===================
memleaks.examples
Inherits 'general'
Reviewed 2014-11-08
===================

============================
memleaks
Inherits 'memleaks.examples'
Reviewed 2014-11-11
============================

sporadic segfault (infrequent)
------------------------------
[Error matching program output for stress/deitz/test_10k_begins] (10/03/14, 10/23/14, 11/10/14)



===================
verify
Inherits 'general'
Reviewed 2014-11-08
===================

internal error (mike/hilde)
---------------------------
[Error matching compiler output for types/records/sungeun/recordWithRefCopyFns]
  (2014/09/03 -- .future file removed 09/02)


==================
valgrind
Inherits 'general'
Reviewed 2014-11-10
===================

conditional jump depends on uninitialized value (04/08/14 -- since re2 on)
--------------------------------------------------------------------------
[Error matching program output for io/tzakian/recordReader/test]
[Error matching program output for regexp/ferguson/rechan]

stack overflow
--------------
[Error matching program output for parallel/cobegin/gbt/cobegin-stacksize]

invalid read/write of size 8 in ftoa() (10/08/14 -- hilde)
----------------------------------------------------------
[Error matching program output for performance/sungeun/assign_across_locales]

continual compilation timeouts
------------------------------
[Error: Timed out compilation for functions/iterators/vass/yield-arrays-var-nonvar]

sporadic invalid write of size 8 in dl_lookup_symbol->do_lookup_x,
read of size 8 in dl_name_match_p (e.g., 10/2/14)
-----------------------------------------------------------------------------
[Error matching program output for performance/sungeun/dgemm] (10/2/14)
[Error matching program output for studies/sudoku/dinan/sudoku] (10/19/14, 10/21/14, 10/25/14, 10/30/14)


===================
llvm
Inherits 'general'
Reviewed 2014-11-08
===================

relies on macro in gmp.h -- not expected to work without effort (09/18/14)
***suppressed (but shouldn't be in bradc's NSHO)***
--------------------------------------------------------------------------
[Error matching compiler output for release/examples/benchmarks/shootout/pidigits]


===================
fifo
Inherits 'general'
reviewed 2014-11-09
===================


===================
numa
Inherits 'general'
Reviewed 2014-11-10
===================


===================
no-local
Inherits 'general'
Reviewed 2014-11-08
===================


=================================
no-local.linux32
Inherits 'linux32' and 'no-local'
Reviewed 2014-11-11
=================================


===================
gasnet* regressions
Inherits 'no-local'
Reviewed 2014-11-01
===================


===================
gasnet-everything
Inherits 'gasnet*'
Reviewed 2014-11-10
===================

sporadic execution timeout (regularly)
--------------------------------------
[Error: Timed out executing program studies/sudoku/dinan/sudoku] (11/03/14, 11/07/14)


===================
gasnet-fast
Inherits 'gasnet*'
Reviewed 2014-11-08
===================

sporadic failure due to 'slave got an unknown command on coord socket' (infrequent) (09/27/14)
------------------------------------------------------------------------------
[Error matching program output for multilocale/diten/localBlock/needMultiLocales/localBlock5]

sporadic unresolved access of range by (2) (infrequent) (10/07/14)
------------------------------------------------------------------
[Error matching program output for users/jglewis/SSCA2_sync_array_initialization_bug]

sporadic execution timeout (once)
---------------------------------
[Error: Timed out executing program studies/sudoku/dinan/sudoku] (11/01/14, 11/06/14)


===============================
gasnet.darwin
Inherits 'darwin' and 'gasnet*'
Reviewed 2014-11-08
===============================



=============================
gasnet.numa
Inherits 'gasnet*' and 'numa'
Reviewed 2014-11-08
=============================

sporadic segfault
-----------------
[Error matching program output for release/examples/programs/quicksort] (10/20/14)

sporadic timeout
----------------
[Error: Timed out executing program release/examples/programs/quicksort]


=============================
gasnet.fifo
Inherits 'gasnet*' and 'fifo'
Reviewed 2014-11-09
=============================

consistent timeouts
-------------------
[Error: Timed out executing program studies/madness/aniruddha/madchap/test_likepy]

sporadic failures even after Sung quieted it down (frequently)
--------------------------------------------------------------
[Error matching program output for types/string/StringImpl/memLeaks/coforall] (10/23/14, 11/02/14, 11/05/14)

sporadic timeouts (frequent)
----------------------------
[Error: Timed out executing program optimizations/bulkcomm/alberto/Block/2dBDtoDRTest]
[Error: Timed out executing program studies/madness/aniruddha/madchap/test_diff]
[Error: Timed out executing program studies/madness/aniruddha/madchap/test_gaxpy] (10/19/14, 10/24/14, 11/11/14)
[Error: Timed out executing program studies/madness/aniruddha/madchap/test_mul] (10/23/14, 10/28/14, 10/31/14, 11/02/14, 11/04/14, 11/08/14, 11/10/14)

sporadic timeouts (infrequent)
------------------------------
[Error: Timed out executing program optimizations/bulkcomm/alberto/Block/2dDRtoBDTest] (10/21/14)

sporadic segfault (very infrequent) (10/03/14)
----------------------------------------------
[Error matching program output for types/string/StringImpl/stress/plusEquals]

sporadic glibc "invalid next size" (once)
-----------------------------------------
[Error matching program output for users/jglewis/SSCA2_sync_array_initialization_bug] (10/31/14)

sporadic "recursive failure in AMUDP_SPMDShutdown"
--------------------------------------------------
[Error matching .bad file for distributions/dm/hplx] (11/06/14)



===================
gasnet.llvm
Inherits 'llvm'
Reviewed 2014-11-08
===================

occasional sporadic timeout
---------------------------
[Error: Timed out compilation for release/examples/benchmarks/lulesh/lulesh (compopts: 1)]

frequent sporadic timeout
-------------------------
[Error: Timed out executing program release/examples/benchmarks/ssca2/SSCA2_main (compopts: 4, execopts: 1)]
[Error: Timed out executing program release/examples/benchmarks/ssca2/SSCA2_main (compopts: 5, execopts: 1)]


===================
x?-wb.*
Inherits 'general'
Reviewed 2014-11-09
===================

failure due to use of jgit to check out repo which doesn't preserve symlinks
----------------------------------------------------------------------------
[Error matching program output for studies/filerator/walk (execopts: 9)]


==================
*prgenv-*
Inherits 'general'
Reviewed 2014-11-09
===================


====================
*prgenv-cray*
Inherits '*prgenv-*'
Reviewed 2014-11-09
====================

error message garbled, possibly due to fence issue? (11/10/14)
--------------------------------------------------------------
[Error matching program output for domains/sungeun/assoc/index_not_in_domain_2 (compopts: 2)]

empty array size problem (1/25/14 -- bradc)
-------------------------------------------
[Error matching compiler output for compflags/bradc/minimalModules/minModDeclPrint]
[Error matching compiler output for compflags/bradc/minimalModules/minModFnRefArg]

infinite loop warning (since filed?)
------------------------------------
[Error matching compiler output for statements/vass/while-const1]

value is outside of the int range in C compilation (03/??/12)
-------------------------------------------------------------
[Error matching compiler output for types/enum/ferguson/enum_mintype_test]

filenames get printed by C compiler when multiple .c files are specified in one command
---------------------------------------------------------------------------------------
[Error matching program output for modules/standard/BitOps/c-tests/bitops (compopts: 1)]
[Error matching program output for modules/standard/BitOps/c-tests/bitops (compopts: 2)]
[Error matching program output for modules/standard/BitOps/c-tests/clz (compopts: 1)]
[Error matching program output for modules/standard/BitOps/c-tests/clz (compopts: 2)]
[Error matching program output for modules/standard/BitOps/c-tests/ctz (compopts: 1)]
[Error matching program output for modules/standard/BitOps/c-tests/ctz (compopts: 2)]
[Error matching program output for modules/standard/BitOps/c-tests/performance/32/bitops-32 (compopts: 1)]
[Error matching program output for modules/standard/BitOps/c-tests/performance/32/bitops-32 (compopts: 2)]
[Error matching program output for modules/standard/BitOps/c-tests/performance/64/bitops-64 (compopts: 1)]
[Error matching program output for modules/standard/BitOps/c-tests/performance/64/bitops-64 (compopts: 2)]
[Error matching program output for modules/standard/BitOps/c-tests/popcount (compopts: 1)]
[Error matching program output for modules/standard/BitOps/c-tests/popcount (compopts: 2)]

unexpected compiler output (listing the source files) (07/23/14)
----------------------------------------------------------------
[Error matching program output for optimizations/cache-remote/ferguson/c_tests/chpl-cache-support-test (compopts: 1)]
gbt is working on getting rid of this

signal 11 (first seen 03/02/14)
-------------------------------
[Error matching compiler output for release/examples/benchmarks/shootout/meteor-fast]
[Error matching program output for studies/shootout/meteor/kbrady/meteor-parallel-alt]

error differs but within acceptable margin; should squash error printing
------------------------------------------------------------------------
[Error matching program output for studies/hpcc/FFT/marybeth/fft]

error message missing? (first noted 07/17/2014, but failure may have predated)
------------------------------------------------------------------------------
[Error matching program output for types/file/freadComplex]

compilation timeouts (since at least 07/16/14)
----------------------------------------------
[Error: Timed out compilation for optimizations/bulkcomm/alberto/Block/3dStrideTest]
[Error: Timed out compilation for optimizations/bulkcomm/alberto/Cyclic/perfTest (compopts: 1)]

compilation timeouts (since at least 02/23/14)
----------------------------------------------
[Error: Timed out compilation for users/franzf/v0/chpl/main (compopts: 1)]
[Error: Timed out compilation for users/franzf/v1/chpl/main (compopts: 1)]

sporadic array index out of bounds due to broken memory fence (gbt)
-------------------------------------------------------------------
[Error matching program output for release/examples/benchmarks/lulesh/lulesh (compopts: 1, execopts: 2)] (11/29/14, last seen 11/07/14)
[Error matching program output for release/examples/benchmarks/lulesh/lulesh (compopts: 1, execopts: 3)] (11/29/14, last seen 11/07/14)
[Error matching program output for release/examples/benchmarks/lulesh/lulesh (compopts: 1, execopts: 4)] (11/29/14, last seen 11/07/14)
[Error matching program output for release/examples/benchmarks/lulesh/lulesh (compopts: 2, execopts: 2)] (11/29/14, last seen 11/07/14)
[Error matching program output for release/examples/benchmarks/lulesh/lulesh (compopts: 2, execopts: 3)] (11/29/14, last seen 11/07/14)
[Error matching program output for release/examples/benchmarks/lulesh/lulesh (compopts: 2, execopts: 4)] (11/29/14, last seen 11/07/14)
[Error matching program output for studies/lulesh/bradc/xyztuple/lulesh-dense-3tuple] (11/29/14, last seen 11/07/14)
[Error matching program output for studies/590o/alaska/graph] (11/06/14)
[Error matching program output for studies/590o/kfm/solver-blc] (11/06/14)
[Error matching program output for studies/590o/kfm/solver] (11/06/14)
[Error matching program output for studies/sort/radix] (11/06/14)

sporadic compilation timeouts
-----------------------------
[Error: Timed out compilation for optimizations/bulkcomm/alberto/Block/perfTest_v2 (compopts: 1)] (..., 10/30/14)
[Error: Timed out compilation for studies/ssca2/test-rmatalt/nondet (compopts: 1)] (2014-01-26..2014-11-09)

sporadic execution timeouts
---------------------------
[Error: Timed out executing program performance/compiler/bradc/cg-sparse-timecomp (compopts: 1)] (10/30/14)

sporadic dropping of output
---------------------------
[Error matching program output for functions/diten/refIntents] (09/30/14)
[Error matching program output for release/examples/benchmarks/ssca2/SSCA2_main (compopts: 5, execopts: 1)] (10/03/14)
[Error matching program output for release/examples/primers/arrays] (10/03/14)
[Error matching program output for functions/iterators/bradc/leadFollow/localfollow2 (compopts: 1)] (10/07/14)
[Error matching program output for optimizations/sungeun/RADOpt/access1d (compopts: 1)] (10/10/14)
[Error matching program output for distributions/robust/arithmetic/collapsing/test_domain_rank_change1] (10/24/14)

zippered iterations have non-equal lengths (09/17/14 -- elliot/diten)
(resolved 10/30/14 -- but did it stick?)
---------------------------------------------------------------------
[Error matching program output for statements/bradc/swaps/swapArrayDiffIndices]



======================================
x?-wb.prgenv-cray
Inherits 'x?-wb.*' and '*prgenv-cray*'
Reviewed 2014-11-10
======================================



============================
xc-wb.host.prgenv-cray
Inherits 'x?-wb.prgenv-cray'
Reviewed 2014-11-09
============================

sporadic? unresolved call list(BaseArr) (2014-10-23 -- mike)
------------------------------------------------------------
*all* (2014-10-23...2014-11-09)


===================
*intel*
Inherits 'general'
Reviewed 2014-11-07
===================

test assertion failures (09/21-23/14)
-------------------------------------
[Error matching program output for io/ferguson/io_test]
[Error matching program output for io/ferguson/writef_readf]

binary files differ (09/23-24/14)
---------------------------------
[Error matching program output for io/ferguson/writefbinary]
[Error matching program output for studies/parboil/SAD/sadSerial]


===============================
x?-wb.intel
Inherits 'x?-wb*' and '*intel*'
Reviewed 2014-11-10
===============================


===============================
x?-wb.prgenv-intel
Inherits 'x?-wb*' and '*intel*'
Reviewed 2014-11-10
===============================

error matching .bad (11/10/14)
------------------------------
[Error matching .bad file for extern/lydia/externRecordLostFields (compopts: 1)]


=============================
xc-wb.host.prgenv-intel
Inherits 'x?-wb.prgenv-intel'
Reviewed 2014-11-08
=============================


=======================
*gnu*
Inherits from 'linux64'
Reviewed 2014-11-09
=======================


=============================
x?-wb.gnu
Inherits 'x?-wb*' and '*gnu*'
Reviewed 2014-11-09
=============================


=============================
x?-wb.prgenv-gnu
Inherits 'x?-wb*' and '*gnu*'
Reviewed 2014-11-09
=============================


===========================
xc-wb.host.prgenv-gnu
Inherits 'x?-wb.prgenv-gnu'
Reviewed 2014-11-08
===========================



===================
*pgi*
Inherits 'general'
Reviewed 2014-11-06
===================

problem with empty initializer (1/25/14 -- bradc)
-------------------------------------------------
[Error matching compiler output for compflags/bradc/minimalModules/minModDeclPrint]
[Error matching compiler output for compflags/bradc/minimalModules/minModFnRefArg]

undefined reference to chpl_bitops_debruijn64 (07/14/14)
--------------------------------------------------------
[Error matching compiler output for optimizations/cache-remote/ferguson/c_tests/chpl-cache-support-test (compopts: 1)]

negative floating point 0.0 not supported
-----------------------------------------
[Error matching program output for types/complex/bradc/negateimaginary3] 
[Error matching program output for types/complex/bradc/negativeimaginaryliteral]
[Error matching program output for types/file/bradc/scalar/floatcomplexexceptions]

consistent timeout
------------------
[Error: Timed out executing program domains/sungeun/assoc/parSafeMember (compopts: 1)]


=============================
x?-wb.pgi
Inherits 'x?-wb*' and '*pgi*'
Reviewed 2014-11-04
=============================


=============================
x?-wb.prgenv-pgi
Inherits 'x?-wb*' and '*pgi*'
Reviewed 2014-11-04
=============================


===========================
xc-wb.host.prgenv-pgi
Inherits 'x?-wb.prgenv-pgi'
Reviewed 2014-11-08
===========================


===================
cygwin
Inherits 'linux64'
Reviewed 2014-11-11
===================

check_channel assertion failure
-------------------------------
[Error matching C regexp test ./regexp_channel_test Regexp Channels Test]

CHPL_RT_CALL_STACK_SIZE too big issue
-------------------------------------
[Error matching program output for execflags/bradc/callStackSize]
[Error matching program output for parallel/cobegin/gbt/cobegin-stacksize]

QIO strcmp(got, expect) assertion error
---------------------------------------
[Error matching program output for io/ferguson/ctests/qio_formatted_test (compopts: 1)]

QIO qio_err_to_int() == EEOF assertion error
--------------------------------------------
[Error matching program output for io/ferguson/ctests/qio_test (compopts: 1)]

sporadic timeouts (frequent)
----------------------------
[Error: Timed out executing program studies/cholesky/jglewis/version2/performance/test_cholesky_performance (compopts: 1)] (..., 2014-11-08)

sporadic pthread_cond_init() failed (once)
------------------------------------------
[Error matching program output for studies/cholesky/jglewis/version2/performance/test_cholesky_performance (compopts: 1)] (11/03/14)

sporadic timeouts (occasional)
------------------------------
[Error: Timed out executing program studies/sudoku/dinan/sudoku]

sporadic "CreateProcessW failed" (very infrequent)
--------------------------------------------------
[Error matching program output for domains/johnk/capacityAssoc] (10/08/14)

sporadic data read copy failed
------------------------------
[Error matching compiler output for reductions/sungeun/test_minmaxloc] (10/16/14)
[Error matching compiler output for regexp/ferguson/rechan] (10/18/14)



===================
baseline
Inherits 'general'
Reviewed 2014-11-12
===================


===================
dist-block
Reviewed 2014-11-08
===================

sporadic timeout (frequent)
---------------------------
[Error: Timed out executing program distributions/robust/arithmetic/kernels/jacobi] (10/22/14, 10/28/14, 10/30/14)


===================
dist-cyclic
Reviewed 2014-11-08
===================

regular timeouts due to oversubscription under qthreads (08/26/14)
------------------------------------------------------------------
[Error: Timed out executing program distributions/robust/arithmetic/kernels/hpl (compopts: 1)]
[Error: Timed out executing program distributions/robust/arithmetic/kernels/jacobi]

sporadic extent mismatch errors (infrequent) (10/11/14)
-------------------------------------------------------
[Error matching program output for distributions/robust/arithmetic/reindexing/test_strided_reindex2 (compopts: 1)]

sporadic timeouts (frequent)
----------------------------
[Error: Timed out executing program distributions/robust/arithmetic/modules/test_module_Norm] (10/28/14)
[Error: Timed out executing program distributions/robust/arithmetic/modules/test_module_Sort] (10/28/14)
[Error: Timed out executing program distributions/robust/arithmetic/stress/test_many_domains] (10/28/14)
[Error: Timed out executing program distributions/robust/arithmetic/stress/test_many_array]



===================
dist-replicated
Reviewed 2014-11-08
===================



TODO: Need to bring the following up-to-snuff, automate mailings

============================================
CHPL_COMM=ugni, CHPL_TASKS=muxed regressions
============================================

Incorrect output (should be fixed by r21213)
  parallel/taskPar/sungeun/barrier/basic

Comm diags mismatch
  multilocale/deitz/needMultiLocales/dist/test_private_space
  multilocale/deitz/needMultiLocales/raCommCheck
  multilocale/deitz/needMultiLocales/streamCommCheck
  parallel/taskPar/sungeun/barrier/commDiags

Output mismatch
  multilocale/numLocales/bradc/testVFlag
  multilocale/numLocales/bradc/testVerboseFlag

Network atomics don't support memory_order
  chameneosredux.chpl
