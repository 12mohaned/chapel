deitz

_retval->type not being updated
