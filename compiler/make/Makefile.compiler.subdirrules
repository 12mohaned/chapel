
all: $(MAKEALLSUBDIRS) echocompilerdir $(TARGETS)

nogc: FORCE
	$(MAKE) USE_GC= all

clean: $(CLEANSUBDIRS) echocompilerdir
	rm -f $(CLEAN_TARGS)

cleandeps: $(CLEANSUBDIRDEPS) echocompilerdir
	rm -f $(CVS_DEPENDS)

clobber: $(CLOBBERSUBDIRS) echocompilerdir
	rm -rf ./$(CLOBBER_TARGS)

depend: $(DEPENDSUBDIRS) $(PLATFORM_DIR) $(DEPEND_DEPS) echocompilerdir
	@echo Updating dependences...
	@rm -f $(CVS_DEPENDS).tmp
	@echo > $(CVS_DEPENDS).tmp
	-@for file in $(CVS_SRCS); do \
	  $(ECHO) -n $(PLATFORM)/ >> $(CVS_DEPENDS).tmp; \
	  $(MAKEDEPEND) $(CFLAGS) $$file | grep -v \^\# >> $(CVS_DEPENDS).tmp; \
	done
	$(OTHER_DEPEND_RULES)
	@mv -f $(CVS_DEPENDS).tmp $(CVS_DEPENDS)
	@echo Updating nogc dependences...
	@$(MAKE) USE_GC= nogcdepend

CVS_NOGC_DEPS= $(CVS_SRCS:%.cpp=%.nogcdepend)

nogcdepend: $(CVS_NOGC_DEPS)
